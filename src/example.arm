resource subnet test {
    name: 'mySubnet'
}

resource networkInterface nic {
    name: 'myNic'
    properties: {
        ipConfigurations: {
            name: 'myConfig'
            properties: {
                subnet: {
                    id: resourceId(test)
                }
                privateIPAllocationMethod: 'Dynamic'
            }
        }
    }
}

resource publicIpAddress pip {
    name: 'myPip'
    properties: {
    }
}